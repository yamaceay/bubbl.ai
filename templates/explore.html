{% extends "base.html" %}

{% block title %}Explore Bubbles{% endblock %}

{% block content %}
<h2>🔍 Explore Bubbles</h2>

<!-- Back to Main Menu -->
<p><a href="{{ url_for('menu') }}">⬅️ Back to Main Menu</a></p>

<!-- Search Form -->
<form method="POST">
    <label for="query">Search Query</label>
    <input type="text" name="query" value="{{ query }}" required><br>

    <button type="submit">Search</button>
</form>

<!-- Display Results -->
{% if bubbles %}
    <h3>Search Results</h3>
    <ul>
        {% for bubble in bubbles %}
            <li>💬 {{ bubble.content }} (User: {{ bubble.user }}, Category: {{ bubble.category }})</li>
        {% endfor %}
    </ul>

    <!-- Pagination Controls -->
    <div class="pagination">
        {% if offset > 0 %}
            <a href="{{ url_for('explore', query=query, offset=offset - 5) }}">⬅️ Previous</a>
        {% endif %}

        {% if has_more %}
            <a href="{{ url_for('explore', query=query, offset=offset + 5) }}">Next ➡️</a>
        {% endif %}
    </div>
{% endif %}
{% endblock %}

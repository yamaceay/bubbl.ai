{% extends "base.html" %}

{% block title %}Creative Self Mode{% endblock %}

{% block content %}
<h2>🎨 Creative Self Mode</h2>
<p>Blow your own bubbles and let your creativity flow!</p>

<!-- Create New Bubble Form -->
<form method="POST" action="{{ url_for('creative_self') }}">
    <label for="content">Blow a New Bubble:</label>
    <textarea name="content" placeholder="What's on your mind?"></textarea>
    <label for="category">Category:</label>
    <input type="text" name="category" placeholder="Category (optional)">
    <button type="submit" name="create_bubble" class="create-bubble">Blow Bubble 💭</button>
</form>

<!-- Display Existing Bubbles -->
<h3>Your Bubbles 🫧</h3>
<div class="bubble-list">
    {% if bubbles and bubbles.bubbles %}
        {% for bubble in bubbles.bubbles %}
        <div class="bubble-item">
            <span>{{ bubble.content }} (Category: {{ bubble.category or "Uncategorized" }})</span>
            <!-- Red Cross for deletion -->
            <form method="POST" class="delete-form">
                <input type="hidden" name="bubble_id" value="{{ bubble.uuid }}">
                <button type="submit" name="remove_bubble" class="delete-bubble">❌</button>
            </form>
        </div>
        {% endfor %}
    {% else %}
        <p>No bubbles found. Start creating your own bubbles!</p>
    {% endif %}
</div>

<!-- Pagination Controls -->
<div class="pagination">
    {% if offset > 0 %}
    <a href="{{ url_for('creative_self', offset=offset - limit) }}">⬅️ Previous</a>
    {% endif %}
    {% if has_more %}
    <a href="{{ url_for('creative_self', offset=offset + limit) }}">Next ➡️</a>
    {% endif %}
</div>

<footer>
    <p><a href="{{ url_for('menu') }}">⬅️ Back to Main Menu</a></p>
</footer>
{% endblock %}
